{"version":3,"sources":["bparallax.js"],"names":["BoxParallaxScroll","identifier","strechFactor","fromEle","toEle","fromStyle","currentStyle","window","getComputedStyle","style","marginTop","parseInt","marginLeft","marginRight","marginBottom","elements","forEach","element","elementHeight","clientHeight","elementWidth","clientWidth","parent","parentNode","newWrapper","document","createElement","className","traverseStyle","margin","height","width","overflow","display","justifyContent","alignItems","appendChild","console","error","querySelectorAll","length","wHeight","innerHeight","scrolled","initiateAllElements","addEventListener","e","scrollY","index","offsetTop","wrapperHeight","windowDiffWrapper","elementDiffWrapper","translatePercentage","Math","abs","transform"],"mappings":";AA+FeA,aAAAA,SAAAA,EAAAA,EAAAA,GAAAA,KAAAA,aAAAA,GAAAA,MAAAA,IAAAA,UAAAA,qCAAAA,SAAAA,EAAAA,EAAAA,EAAAA,GAAAA,OAAAA,KAAAA,EAAAA,OAAAA,eAAAA,EAAAA,EAAAA,CAAAA,MAAAA,EAAAA,YAAAA,EAAAA,cAAAA,EAAAA,UAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EA/FTA,IAAAA,EACJ,SAAyE,IAAA,IAAA,EAAA,KAAJ,EAAA,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,GAAvDC,EAAAA,EAAAA,WAAAA,OAAa,IAAA,EAAA,oBAA8C,EAAzBC,EAAAA,EAAAA,aAAAA,OAAe,IAAA,EAAA,EAAU,EAEnE,GAFmE,EAAA,KAAA,GASzD,EAAA,KAAA,gBAAA,SAACC,EAASC,GACpBC,IAAAA,EAAYF,EAAQG,cAAgBC,OAAOC,iBAAiBL,GAChEC,EAAMK,MAAMC,UAAeC,GAAAA,OAAAA,SAASN,EAAUK,WAA9C,MACAN,EAAMK,MAAMG,WAAgBD,GAAAA,OAAAA,SAASN,EAAUO,YAA/C,MACAR,EAAMK,MAAMI,YAAiBF,GAAAA,OAAAA,SAASN,EAAUQ,aAAhD,MACAT,EAAMK,MAAMK,aAAkBH,GAAAA,OAAAA,SAASN,EAAUS,cAAjD,QAGoB,EAAA,KAAA,sBAAA,SAACC,GACrBA,EAASC,QAAQ,SAACC,GACVC,IAAAA,EAAgBD,EAAQE,aACxBC,EAAeH,EAAQI,YACzBC,EAASL,EAAQM,WAEjBC,EAAaC,SAASC,cAAc,OACxCF,EAAWG,UAAY,UAEvB,EAAKC,cAAcX,EAASO,GAC5BP,EAAQR,MAAMoB,OAAS,MACvBL,EAAWf,MAAMqB,OAAYZ,GAAAA,OAAAA,EAA7B,MACAM,EAAWf,MAAMsB,MAAWX,GAAAA,OAAAA,EAA5B,MACAI,EAAWf,MAAMuB,SAAW,SAC5BR,EAAWf,MAAMwB,QAAU,OAC3BT,EAAWf,MAAMyB,eAAiB,SAClCV,EAAWf,MAAM0B,WAAa,SAG9BlB,EAAQR,MAAMqB,OACZZ,GAAAA,OAAAA,EAAgBA,EAAgB,EAAKhB,aAnBX,MAuB5BsB,EAAWY,YAAYnB,GACvBK,EAAOc,YAAYZ,OAIhB,EAAA,KAAA,OAAA,WAED,IAACjB,SAAWkB,SACd,OAAOY,QAAQC,MAAM,sCAEjBvB,IAAAA,EAAWU,SAASc,iBAAiB,EAAKtC,YAC5Cc,GAAmB,GAAnBA,EAASyB,OAATzB,CAEA0B,IAAAA,EAAUlC,OAAOmC,YACjBC,EAAW,EAGf,EAAKC,oBAAoB7B,GAGzBR,OAAOsC,iBAAiB,SAAU,SAAUC,GAC1CH,EAAWpC,OAAOwC,QAClBhC,EAASC,QAAQ,SAACC,EAAS+B,GACnBC,IAAAA,EAAYhC,EAAQgC,UACpBC,EAAgBjC,EAAQM,WAAWJ,aACnCgC,EAAoBV,EAAUS,EAC9BE,EAAqBnC,EAAQE,aAAe+B,EAE9CG,GACDV,EAAWM,IACXG,EAAqBE,KAAKC,IAAIJ,IAC7BA,EAAoBC,IACtBC,GAAuBV,EAAWM,GAAaE,GAGjDlC,EAAQR,MAAM+C,UACZH,cAAAA,OAAAA,EAAsBD,EADxB,WAOJ7C,OAAOsC,iBACL,SACA,SAACC,GAECL,EAAUlC,OAAOmC,cAEnB,OAvFGnC,SAAWkB,SACd,OAAOY,QAAQC,MAAM,sCAElBrC,KAAAA,WAAaA,EACbC,KAAAA,aAAeA,GAwFTF,EAAAA,EAAAA,QAAAA,QAAAA","file":"bparallax.js","sourceRoot":"../src","sourcesContent":["class BoxParallaxScroll {\n  constructor({ identifier = \".parallax-element\", strechFactor = 1 } = {}) {\n    // Won't init if window undefined;\n    if (!window || !document)\n      return console.error(\"window / document object not found\");\n    // Set option variables\n    this.identifier = identifier;\n    this.strechFactor = strechFactor;\n  }\n\n  traverseStyle = (fromEle, toEle) => {\n    var fromStyle = fromEle.currentStyle || window.getComputedStyle(fromEle);\n    toEle.style.marginTop = `${parseInt(fromStyle.marginTop)}px`;\n    toEle.style.marginLeft = `${parseInt(fromStyle.marginLeft)}px`;\n    toEle.style.marginRight = `${parseInt(fromStyle.marginRight)}px`;\n    toEle.style.marginBottom = `${parseInt(fromStyle.marginBottom)}px`;\n  };\n\n  initiateAllElements = (elements) => {\n    elements.forEach((element) => {\n      const elementHeight = element.clientHeight;\n      const elementWidth = element.clientWidth;\n      let parent = element.parentNode;\n      // Create the wrapper\n      let newWrapper = document.createElement(\"div\");\n      newWrapper.className = \"wrapper\";\n      // Traverse up the style to the wrapper\n      this.traverseStyle(element, newWrapper);\n      element.style.margin = \"0px\";\n      newWrapper.style.height = `${elementHeight}px`;\n      newWrapper.style.width = `${elementWidth}px`;\n      newWrapper.style.overflow = \"hidden\";\n      newWrapper.style.display = \"flex\";\n      newWrapper.style.justifyContent = \"center\";\n      newWrapper.style.alignItems = \"center\";\n\n      // Extend the height of the element\n      element.style.height = `${\n        elementHeight + elementHeight * this.strechFactor\n      }px`;\n\n      // Append targetElement to wrapper and wrapper to the parent\n      newWrapper.appendChild(element);\n      parent.appendChild(newWrapper);\n    });\n  };\n\n  init = () => {\n    // Won't init if window undefined;\n    if (!window || !document)\n      return console.error(\"window / document object not found\");\n\n    const elements = document.querySelectorAll(this.identifier);\n    if (elements.length == 0) return; // Don't listen to anything if there isn't any elements\n\n    let wHeight = window.innerHeight;\n    let scrolled = 0;\n\n    // Initiate the elements\n    this.initiateAllElements(elements);\n\n    // Listen to scroll event and transform\n    window.addEventListener(\"scroll\", function (e) {\n      scrolled = window.scrollY;\n      elements.forEach((element, index) => {\n        const offsetTop = element.offsetTop;\n        const wrapperHeight = element.parentNode.clientHeight;\n        const windowDiffWrapper = wHeight - wrapperHeight;\n        const elementDiffWrapper = element.clientHeight - wrapperHeight;\n\n        let translatePercentage =\n          (scrolled - offsetTop) /\n          (elementDiffWrapper + Math.abs(windowDiffWrapper));\n        if (windowDiffWrapper > elementDiffWrapper) {\n          translatePercentage = (scrolled - offsetTop) / windowDiffWrapper;\n        }\n\n        element.style.transform = `translateY(${\n          translatePercentage * elementDiffWrapper\n        }px)`;\n      });\n    });\n\n    // Re-evaluate window size\n    window.addEventListener(\n      \"resize\",\n      (e) => {\n        // Set the height again\n        wHeight = window.innerHeight;\n      },\n      false\n    );\n  };\n}\n\nexport default BoxParallaxScroll;\n"]}